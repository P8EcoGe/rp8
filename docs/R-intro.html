<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Introduction à R | R à Paris 8</title>
  <meta name="description" content="2 Introduction à R | R à Paris 8" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Introduction à R | R à Paris 8" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Introduction à R | R à Paris 8" />
  
  
  



<meta name="date" content="2020-10-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="sum.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Préface</a></li>
<li class="chapter" data-level="2" data-path="R-intro.html"><a href="R-intro.html"><i class="fa fa-check"></i><b>2</b> Introduction à <code>R</code></a><ul>
<li class="chapter" data-level="2.1" data-path="R-intro.html"><a href="R-intro.html#introduction"><i class="fa fa-check"></i><b>2.1</b> Introduction</a></li>
<li class="chapter" data-level="2.2" data-path="R-intro.html"><a href="R-intro.html#démarrer-r-et-r-studio"><i class="fa fa-check"></i><b>2.2</b> Démarrer R et R Studio</a><ul>
<li class="chapter" data-level="2.2.1" data-path="R-intro.html"><a href="R-intro.html#un-premier-glossaire"><i class="fa fa-check"></i><b>2.2.1</b> Un premier glossaire</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="R-intro.html"><a href="R-intro.html#calculs-de-base"><i class="fa fa-check"></i><b>2.3</b> Calculs de base</a></li>
<li class="chapter" data-level="2.4" data-path="R-intro.html"><a href="R-intro.html#obtenir-de-laide"><i class="fa fa-check"></i><b>2.4</b> Obtenir de l’aide</a></li>
<li class="chapter" data-level="2.5" data-path="R-intro.html"><a href="R-intro.html#installation-de-packages"><i class="fa fa-check"></i><b>2.5</b> Installation de packages</a></li>
<li class="chapter" data-level="2.6" data-path="R-intro.html"><a href="R-intro.html#code-output"><i class="fa fa-check"></i><b>2.6</b> <code>Code</code> et sortie dans ce document</a></li>
<li class="chapter" data-level="2.7" data-path="R-intro.html"><a href="R-intro.html#data-types"><i class="fa fa-check"></i><b>2.7</b> Types de données</a></li>
<li class="chapter" data-level="2.8" data-path="R-intro.html"><a href="R-intro.html#structures-de-données"><i class="fa fa-check"></i><b>2.8</b> Structures de données</a><ul>
<li class="chapter" data-level="2.8.1" data-path="R-intro.html"><a href="R-intro.html#vecteurs"><i class="fa fa-check"></i><b>2.8.1</b> Vecteurs</a></li>
<li class="chapter" data-level="2.8.2" data-path="R-intro.html"><a href="R-intro.html#opérateurs-logiques"><i class="fa fa-check"></i><b>2.8.2</b> Opérateurs logiques</a></li>
<li class="chapter" data-level="2.8.3" data-path="R-intro.html"><a href="R-intro.html#matrices"><i class="fa fa-check"></i><b>2.8.3</b> Matrices</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="R-intro.html"><a href="R-intro.html#dataframes"><i class="fa fa-check"></i><b>2.9</b> Data Frames</a><ul>
<li class="chapter" data-level="2.9.1" data-path="R-intro.html"><a href="R-intro.html#travailler-sur-des-data.frames"><i class="fa fa-check"></i><b>2.9.1</b> Travailler sur des <code>data.frames</code></a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="R-intro.html"><a href="R-intro.html#les-bases-de-la-programmation-en-r"><i class="fa fa-check"></i><b>2.10</b> Les bases de la programmation en <code>R</code></a><ul>
<li class="chapter" data-level="2.10.1" data-path="R-intro.html"><a href="R-intro.html#variables"><i class="fa fa-check"></i><b>2.10.1</b> Variables</a></li>
<li class="chapter" data-level="2.10.2" data-path="R-intro.html"><a href="R-intro.html#contrôle-du-flux-conditions-si-alors"><i class="fa fa-check"></i><b>2.10.2</b> Contrôle du flux, conditions “si, alors”</a></li>
<li class="chapter" data-level="2.10.3" data-path="R-intro.html"><a href="R-intro.html#boucles"><i class="fa fa-check"></i><b>2.10.3</b> Boucles</a></li>
<li class="chapter" data-level="2.10.4" data-path="R-intro.html"><a href="R-intro.html#fonctions"><i class="fa fa-check"></i><b>2.10.4</b> Fonctions</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="sum.html"><a href="sum.html"><i class="fa fa-check"></i><b>3</b> Travailler avec les données</a><ul>
<li class="chapter" data-level="3.1" data-path="sum.html"><a href="sum.html#statistiques-descriptives"><i class="fa fa-check"></i><b>3.1</b> Statistiques descriptives</a><ul>
<li class="chapter" data-level="" data-path="sum.html"><a href="sum.html#tendance-centrale"><i class="fa fa-check"></i>Tendance centrale</a></li>
<li class="chapter" data-level="" data-path="sum.html"><a href="sum.html#étendue"><i class="fa fa-check"></i>Étendue</a></li>
<li class="chapter" data-level="" data-path="sum.html"><a href="sum.html#variable-catégorielles"><i class="fa fa-check"></i>Variable catégorielles</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="sum.html"><a href="sum.html#graphiques"><i class="fa fa-check"></i><b>3.2</b> Graphiques</a><ul>
<li class="chapter" data-level="3.2.1" data-path="sum.html"><a href="sum.html#histograms"><i class="fa fa-check"></i><b>3.2.1</b> Histograms</a></li>
<li class="chapter" data-level="3.2.2" data-path="sum.html"><a href="sum.html#diagrammes-en-bâtons"><i class="fa fa-check"></i><b>3.2.2</b> Diagrammes en bâtons</a></li>
<li class="chapter" data-level="3.2.3" data-path="sum.html"><a href="sum.html#boîtes-à-moustaches"><i class="fa fa-check"></i><b>3.2.3</b> Boîtes à moustaches</a></li>
<li class="chapter" data-level="3.2.4" data-path="sum.html"><a href="sum.html#nuages-de-points"><i class="fa fa-check"></i><b>3.2.4</b> Nuages de points</a></li>
<li class="chapter" data-level="3.2.5" data-path="sum.html"><a href="sum.html#ggplot"><i class="fa fa-check"></i><b>3.2.5</b> <code>ggplot</code></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="sum.html"><a href="sum.html#summarize-two"><i class="fa fa-check"></i><b>3.3</b> Statistiques bivariées</a></li>
<li class="chapter" data-level="3.4" data-path="sum.html"><a href="sum.html#le-tidyverse"><i class="fa fa-check"></i><b>3.4</b> Le <code>tidyverse</code></a><ul>
<li class="chapter" data-level="3.4.1" data-path="sum.html"><a href="sum.html#primers-de-rstudio.cloud"><i class="fa fa-check"></i><b>3.4.1</b> Primers de rstudio.cloud</a></li>
<li class="chapter" data-level="3.4.2" data-path="sum.html"><a href="sum.html#importer-des-données-.csv-de-façon-tidy"><i class="fa fa-check"></i><b>3.4.2</b> Importer des données <code>.csv</code> de façon <em>tidy</em></a></li>
<li class="chapter" data-level="3.4.3" data-path="sum.html"><a href="sum.html#les-data.frames-tidy-sont-des-tibbles"><i class="fa fa-check"></i><b>3.4.3</b> Les <code>data.frames</code> “tidy” sont des <code>tibbles</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="mcarlo.html"><a href="mcarlo.html"><i class="fa fa-check"></i><b>4</b> Simulations de Monte-Carlo</a><ul>
<li class="chapter" data-level="4.1" data-path="mcarlo.html"><a href="mcarlo.html#un-premier-exemple"><i class="fa fa-check"></i><b>4.1</b> Un premier exemple</a></li>
<li class="chapter" data-level="4.2" data-path="mcarlo.html"><a href="mcarlo.html#généralisation-le-package-montecarlo"><i class="fa fa-check"></i><b>4.2</b> Généralisation : le package MonteCarlo</a></li>
<li class="chapter" data-level="4.3" data-path="mcarlo.html"><a href="mcarlo.html#avec-une-régression-par-mco"><i class="fa fa-check"></i><b>4.3</b> Avec une régression par MCO</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="MCO.html"><a href="MCO.html"><i class="fa fa-check"></i><b>5</b> La régression linéaire par MCO</a><ul>
<li class="chapter" data-level="5.1" data-path="MCO.html"><a href="MCO.html#la-commande-de-base-lm-et-summary"><i class="fa fa-check"></i><b>5.1</b> La commande de base : <code>lm()</code> et <code>summary()</code></a></li>
<li class="chapter" data-level="5.2" data-path="MCO.html"><a href="MCO.html#extraire-des-éléments-du-modèle"><i class="fa fa-check"></i><b>5.2</b> Extraire des éléments du modèle</a><ul>
<li class="chapter" data-level="5.2.1" data-path="MCO.html"><a href="MCO.html#données-du-modèles"><i class="fa fa-check"></i><b>5.2.1</b> Données du modèles</a></li>
<li class="chapter" data-level="5.2.2" data-path="MCO.html"><a href="MCO.html#manipulation-plus-avancée"><i class="fa fa-check"></i><b>5.2.2</b> Manipulation plus avancée</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="MCO.html"><a href="MCO.html#graphiques-danalyse-des-résidus"><i class="fa fa-check"></i><b>5.3</b> Graphiques d’analyse des résidus</a></li>
<li class="chapter" data-level="5.4" data-path="MCO.html"><a href="MCO.html#analyse-de-la-variance"><i class="fa fa-check"></i><b>5.4</b> Analyse de la variance</a><ul>
<li class="chapter" data-level="5.4.1" data-path="MCO.html"><a href="MCO.html#r2-et-hatsigma"><i class="fa fa-check"></i><b>5.4.1</b> <span class="math inline">\(R^2\)</span> et <span class="math inline">\(\hat\sigma\)</span></a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="MCO.html"><a href="MCO.html#retour-sur-summary"><i class="fa fa-check"></i><b>5.5</b> Retour sur <code>summary()</code></a></li>
<li class="chapter" data-level="5.6" data-path="MCO.html"><a href="MCO.html#les-mco-à-la-main"><i class="fa fa-check"></i><b>5.6</b> Les MCO à la main</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="hetero.html"><a href="hetero.html"><i class="fa fa-check"></i><b>6</b> Traitement de l’hétéroscédasticité</a><ul>
<li class="chapter" data-level="6.1" data-path="R-intro.html"><a href="R-intro.html#introduction"><i class="fa fa-check"></i><b>6.1</b> Introduction</a></li>
<li class="chapter" data-level="6.2" data-path="hetero.html"><a href="hetero.html#détection-de-lhétéroscédasticité"><i class="fa fa-check"></i><b>6.2</b> Détection de l’hétéroscédasticité</a><ul>
<li class="chapter" data-level="6.2.1" data-path="hetero.html"><a href="hetero.html#analyse-graphique-des-résidus"><i class="fa fa-check"></i><b>6.2.1</b> Analyse graphique des résidus</a></li>
<li class="chapter" data-level="6.2.2" data-path="hetero.html"><a href="hetero.html#test-de-breusch-pagan"><i class="fa fa-check"></i><b>6.2.2</b> Test de Breusch-Pagan</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="hetero.html"><a href="hetero.html#correction-de-white"><i class="fa fa-check"></i><b>6.3</b> Correction de White</a><ul>
<li class="chapter" data-level="6.3.1" data-path="hetero.html"><a href="hetero.html#les-paquets-lmtest-et-sandwich"><i class="fa fa-check"></i><b>6.3.1</b> Les paquets <code>lmtest</code> et <code>sandwich</code></a></li>
<li class="chapter" data-level="6.3.2" data-path="hetero.html"><a href="hetero.html#les-paquets-lmtest-et-car"><i class="fa fa-check"></i><b>6.3.2</b> Les paquets <code>lmtest</code> et <code>car</code></a></li>
<li class="chapter" data-level="6.3.3" data-path="hetero.html"><a href="hetero.html#le-paquet-estimatr"><i class="fa fa-check"></i><b>6.3.3</b> Le paquet <code>estimatr</code></a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="hetero.html"><a href="hetero.html#mcqg-par-pondération"><i class="fa fa-check"></i><b>6.4</b> MCQG par pondération</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R à Paris 8</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="R-intro" class="section level1">
<h1><span class="header-section-number">2</span> Introduction à <code>R</code></h1>
<div id="introduction" class="section level2">
<h2><span class="header-section-number">2.1</span> Introduction</h2>
<p><code>R</code> est à la fois un langage de programmation et un logiciel de calcul statistique. Il est <em>gratuit</em> et <em>libre</em> (<em>open-source</em>). Pour commencer, vous allez devoir installer deux logiciels :</p>
<ol style="list-style-type: decimal">
<li><a href="https://www.r-project.org"><code>R</code>, le language de programmation lui même.</a>
<ul>
<li>Sélectionnez votre système d’exploitation et choisissez la version la plus récente de <code>R</code></li>
</ul></li>
<li><a href="http://www.rstudio.com/">RStudio, une excellente interface de programmation pour <code>R</code>.</a>
<ul>
<li>Attention, il faut que vous ayez installé <code>R</code> pour pouvoir utiliser RStudio. RStudio est juste une interface permettant d’utiliser <code>R</code>.</li>
</ul></li>
</ol>
<p>Les éditeurs du logiciel RStudio ont par ailleurs crée la plate-forme en ligne <a href="https://www.rstudio.cloud">RStudio Cloud rstudio.cloud.</a>. Cette dernière permet d’utiliser <code>R</code> en ligne depuis son navigateur, de faire des tutoriels d’introduction (voire plus avancés), etc. Afin de vous familiariser au plus vite avec le <code>R</code> et R Studio (pour ceux qui ne connaissent pas déjà <code>R</code>), il faut <em>au plus vite</em> que</p>
<ol style="list-style-type: decimal">
<li><p>Vous vous rendiez sur <a href="https://www.rstudio.cloud">rstudio.cloud.</a> et que vous vous y créiez un compte (<em>Sign Up</em>). La plateforme est en anglais mais ça devrait être compréhensible</p></li>
<li><p>Une fois votre compté crée, allez sur la page des <em>Primers</em> (tutoriels d’introduction) : <a href="https://rstudio.cloud/learn/primers">https://rstudio.cloud/learn/primers</a>, et effectuez <strong>au minimum</strong> les tutoriels “<em>The Basics</em>” et “<em>Work with Data</em>”. Idéalement effectuez aussi “<em>Visualize Data</em>” et “<em>Tidy Your Data</em>”. Les plus courageux/motivés pourront également effectuer “<em>Iterate</em>” et “<em>Write Functions</em>”.</p></li>
</ol>
<p>R Studio Cloud vous permet également d’utiliser <code>R</code> en ligne depuis un navigateur sans avoir à l’installer sur votre machine. C’est extrêmement pratique, mais la version gratuite ne permet que 15 heures d’utilisation par mois pour chaque compte. Son utilisation sera donc réservée aux éventuels cours dans une salle informatique et pour ceux d’entre vous qui sont dans l’impossibilité d’installer <code>R</code> sur leur ordinateur.</p>
</div>
<div id="démarrer-r-et-r-studio" class="section level2">
<h2><span class="header-section-number">2.2</span> Démarrer R et R Studio</h2>
<p>Il est fondamental de comprendre la différence entre <code>R</code>, le langage de programmation, et <code>RStudio</code>, l’interface pour <code>R</code> qui vous permet de travailler efficacement (et plus facilement) avec <code>R</code>.</p>
<p>La meilleure façon de comprendre l’utilité de <code>RStudio</code> est de commencer par <code>R</code> <em>sans</em> <code>RStudio</code>. Pour ce faire, double-clickez sur le programme R que vous devriez avoir installé sur votre ordinateur en suivant les instructions ci-dessus (sous windows ou Mac), ou lancez <code>R</code> depuis votre terminal (sous Linux ou Mac) en tapant <code>R</code> dans un terminal, voir <a href="R-intro.html#fig:console">2.2</a>. Vous venez d’ouvrir la <strong>console</strong> R qui vous permet de commencer à taper du code juste après le symbole <code>&gt;</code>, appelé <em>prompt</em>. Essayez de taper <code>2 + 2</code> or <code>print("Votre Nom")</code> puis appuyez sur la touche Entrée. Et voilà, votre première commande <code>R</code></p>
<div class="figure" style="text-align: center"><span id="fig:logo"></span>
<img src="images/RLogo.png" alt="Le logo de R" width="50%" />
<p class="caption">
Figure 2.1: Le logo de R
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:console"></span>
<img src="images/consoleR.png" alt="Un terminal R sous Linux" width="50%" />
<p class="caption">
Figure 2.2: Un terminal R sous Linux
</p>
</div>
<p>Taper une commande après l’autre dans la console n’est pas très pratique au fur et à mesure que notre analyse devient plus complexe. L’idéal serait de rassembler toutes les instructions de commande dans un fichier et de les exécuter l’une après l’autre, automatiquement. Nous pouvons le faire en écrivant des fichiers dits <strong>script</strong> , c’est-à-dire de simples fichiers texte avec l’extension <code>.R</code> ou <code>.r</code> qui peuvent être <em>insérés</em> (ou <em>sourcés</em>) dans une session <code>R</code>. RStudio rend ce processus très simple.</p>
<p>Ouvrez <code>RStudio</code> en cliquant sur l’application <code>RStudio</code> sur votre ordinateur, et remarquez à quel point l’environnement entier est différent de la console <code>R</code> de base - en fait, cette console <code>R</code> fonctionne dans votre panneau inférieur gauche. Le panneau supérieur gauche est un espace où vous pouvez écrire des scripts, c’est-à-dire de nombreuses lignes de codes que vous pouvez exécuter quand vous le souhaitez. Pour exécuter une seule ligne de code, il suffit de la mettre en surbrillance et d’appuyer sur “Ctrl” + “Entrée”.</p>
<p>RStudio dispose d’un grand nombre de raccourcis clavier utiles. Une liste de ceux-ci peut être trouvée en utilisant un raccourci clavier – le raccourci clavier qui permet de tous les utiliser :</p>
<ul>
<li>Sous Windows ou linux: <code>Alt</code> + <code>Shift</code> + <code>K</code></li>
<li>Sous Mac: <code>Option</code> + <code>Shift</code> + <code>K</code></li>
</ul>
<p>L’équipe de <code>R Studio</code> a développé [un certain nombre de “cheatsheets”] (<a href="https://www.rstudio.com/resources/cheatsheets/" class="uri">https://www.rstudio.com/resources/cheatsheets/</a>) pour travailler à la fois avec <code>R</code> et <code>R Studio</code>. Cette fiche particulière pour la base <code>R</code>] (<a href="http://www.rstudio.com/wp-content/uploads/2016/05/base-r.pdf" class="uri">http://www.rstudio.com/wp-content/uploads/2016/05/base-r.pdf</a>) résume un grand nombre des concepts de ce document.</p>
<div id="un-premier-glossaire" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Un premier glossaire</h3>
<ul>
<li><code>R</code> : un langage de programmation statistique</li>
<li><code>R Studio</code> : un environnement de développement intégré (IDE) pour travailler avec <code>R</code>.</li>
<li><em>commande</em> : saisie de l’utilisateur (texte ou chiffres) que <code>R</code> <em>comprend</em>.</li>
<li><em>script</em> : une liste de commandes rassemblées dans un fichier texte, chacune étant séparée par une nouvelle ligne, à exécuter l’une après l’autre.</li>
</ul>
</div>
</div>
<div id="calculs-de-base" class="section level2">
<h2><span class="header-section-number">2.3</span> Calculs de base</h2>
<p>Pour commencer, nous utiliserons le <code>R</code> comme une simple calculatrice. Exécutez le code suivant soit directement depuis votre console RStudio, soit dans RStudio en l’écrivant dans un script et en l’exécutant en utilisant “Ctrl” + “Entrée”.</p>
<div id="addition-sousraction-multiplication-et-division" class="section level4 unnumbered">
<h4>Addition, Sousraction, Multiplication et Division</h4>
<table>
<thead>
<tr class="header">
<th align="center">Math</th>
<th align="center">code <code>R</code></th>
<th align="center">Résultat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><span class="math inline">\(3 + 2\)</span></td>
<td align="center"><code>3 + 2</code></td>
<td align="center">5</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(3 - 2\)</span></td>
<td align="center"><code>3 - 2</code></td>
<td align="center">1</td>
</tr>
<tr class="odd">
<td align="center"><span class="math inline">\(3 \cdot2\)</span></td>
<td align="center"><code>3 * 2</code></td>
<td align="center">6</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(3 / 2\)</span></td>
<td align="center"><code>3 / 2</code></td>
<td align="center">1.5</td>
</tr>
</tbody>
</table>
</div>
<div id="exposants" class="section level4 unnumbered">
<h4>Exposants</h4>
<table>
<thead>
<tr class="header">
<th align="center">Math</th>
<th align="center">code <code>R</code></th>
<th align="center">Résultat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><span class="math inline">\(3^2\)</span></td>
<td align="center"><code>3 ^ 2</code></td>
<td align="center">9</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(2^{(-3)}\)</span></td>
<td align="center"><code>2 ^ (-3)</code></td>
<td align="center">0.125</td>
</tr>
<tr class="odd">
<td align="center"><span class="math inline">\(100^{1/2}\)</span></td>
<td align="center"><code>100 ^ (1 / 2)</code></td>
<td align="center">10</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(\sqrt{100}\)</span></td>
<td align="center"><code>sqrt(100)</code></td>
<td align="center">10</td>
</tr>
</tbody>
</table>
</div>
<div id="constantes-mathématiques" class="section level4 unnumbered">
<h4>Constantes mathématiques</h4>
<table>
<thead>
<tr class="header">
<th align="center">Math</th>
<th align="center">code <code>R</code></th>
<th align="center">Résultat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><span class="math inline">\(\pi\)</span></td>
<td align="center"><code>pi</code></td>
<td align="center">3.1415927</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(e\)</span></td>
<td align="center"><code>exp(1)</code></td>
<td align="center">2.7182818</td>
</tr>
</tbody>
</table>
</div>
<div id="logarithmes" class="section level4 unnumbered">
<h4>Logarithmes</h4>
<p>Notez que nous utiliserons <span class="math inline">\(\ln\)</span> et <span class="math inline">\(\log\)</span> de manière interchangeable pour désigner le logarithme naturel. Il n’y a pas de <code>ln()</code> dans <code>R</code>, mais on utilise <code>log()</code> pour désigner le logarithme naturel.</p>
<table>
<thead>
<tr class="header">
<th align="center">Math</th>
<th align="center">code <code>R</code></th>
<th align="center">Résultat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><span class="math inline">\(\log(e)\)</span></td>
<td align="center"><code>log(exp(1))</code></td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(\log_{10}(1000)\)</span></td>
<td align="center"><code>log10(1000)</code></td>
<td align="center">3</td>
</tr>
<tr class="odd">
<td align="center"><span class="math inline">\(\log_{2}(8)\)</span></td>
<td align="center"><code>log2(8)</code></td>
<td align="center">3</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(\log_{4}(16)\)</span></td>
<td align="center"><code>log(16, base = 4)</code></td>
<td align="center">2</td>
</tr>
</tbody>
</table>
</div>
<div id="trigonometrie" class="section level4 unnumbered">
<h4>Trigonometrie</h4>
<table>
<thead>
<tr class="header">
<th align="center">Math</th>
<th align="center">code <code>R</code></th>
<th align="center">Résultat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><span class="math inline">\(\sin(\pi / 2)\)</span></td>
<td align="center"><code>sin(pi / 2)</code></td>
<td align="center">1</td>
</tr>
<tr class="even">
<td align="center"><span class="math inline">\(\cos(0)\)</span></td>
<td align="center"><code>cos(0)</code></td>
<td align="center">1</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="obtenir-de-laide" class="section level2">
<h2><span class="header-section-number">2.4</span> Obtenir de l’aide</h2>
<p>En utilisant <code>R</code> comme calculatrice, nous avons vu un certain nombre de fonctions : <code>sqrt()</code>, <code>exp()</code>, <code>log()</code> et <code>sin()</code>. Pour obtenir de la documentation sur une fonction dans <code>R</code>, il suffit de mettre un point d’interrogation devant le nom de la fonction, ou d’appeler la fonction <code>help(function)</code> et RStudio affichera la documentation, par exemple :</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1">?log</a>
<a class="sourceLine" id="cb1-2" title="2">?sin</a>
<a class="sourceLine" id="cb1-3" title="3">?paste</a>
<a class="sourceLine" id="cb1-4" title="4">?lm</a>
<a class="sourceLine" id="cb1-5" title="5"><span class="kw">help</span>(lm)   <span class="co"># help() est équivalent</span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="kw">help</span>(ggplot,<span class="dt">package=</span><span class="st">&quot;ggplot2&quot;</span>)  <span class="co"># affiche l&#39;aide d&#39;un package  donné</span></a></code></pre></div>
<p>Souvent, l’une des choses les plus difficiles à faire quand on apprend <code>R</code> est de demander de l’aide. D’abord, vous devez décider de demander de l’aide, puis vous devez savoir <em>comment</em> demander de l’aide. Votre toute première ligne de défense devrait être de rechercher sur Google votre message d’erreur ou une brève description de votre problème. (La capacité à résoudre des problèmes à l’aide de cette méthode devient rapidement une compétence extrêmement précieuse). Si cela échoue, et cela finira par arriver, vous devriez demander de l’aide. Il y a un certain nombre de choses que vous devez inclure lorsque vous contactez un enseignant ou que vous postez sur un site d’aide tel que [Stack Overflow] (<a href="https://stackoverflow.com" class="uri">https://stackoverflow.com</a>).</p>
<ul>
<li>Décrivez ce que vous attendez du code.</li>
<li>Indiquez l’objectif final que vous essayez d’atteindre. (Parfois, ce que vous attendez du code n’est pas ce que vous voulez réellement faire).</li>
<li>Fournissez le texte intégral de toutes les erreurs que vous avez reçues.</li>
<li>Fournissez suffisamment de code pour recréer l’erreur.</li>
<li>Parfois, il est également utile d’inclure une capture d’écran de toute votre fenêtre RStudio lorsque l’erreur se produit.</li>
</ul>
<p>Si vous suivez ces étapes, votre problème sera résolu beaucoup plus rapidement, et vous en apprendrez peut-être plus au cours du processus. Ne vous découragez pas en rencontrant des erreurs et des difficultés lors de l’apprentissage de <code>R</code>". (Ou toute autre compétence technique.) Cela fait tout simplement partie du processus d’apprentissage.</p>
</div>
<div id="installation-de-packages" class="section level2">
<h2><span class="header-section-number">2.5</span> Installation de packages</h2>
<p><code>R</code> est livré avec un certain nombre de fonctions et d’ensembles de données intégrés, mais l’une des principales forces de <code>R</code> en tant que projet open-source est son système de paquets (<em>packages</em>). Les paquets ajoutent des fonctions et des données supplémentaires. Souvent, si vous voulez faire quelque chose dans <code>R</code>, et que ce n’est pas disponible par défaut, il y a de fortes chances qu’il existe un paquet qui répondra à vos besoins.</p>
<p>Pour installer un paquet, utilisez la fonction <code>install.packages()</code>. Imaginez que vous achetez un livre de recettes au magasin, que vous le rapportez à la maison et que vous le mettez sur votre étagère (c’est-à-dire dans votre bibliothèque) :</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">install.packages</span>(<span class="st">&quot;ggplot2&quot;</span>)</a></code></pre></div>
<p>Une fois qu’un paquet est installé, il doit être chargé dans votre session <code>R</code> avant d’être utilisé. Cela revient à retirer le livre de l’étagère et à l’ouvrir pour le lire.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">library</span>(ggplot2)</a></code></pre></div>
<p>Une fois que vous fermez <code>R</code>, tous les paquets sont fermés et remis sur l’étagère imaginaire. La prochaine fois que vous ouvrirez <code>R</code>, vous n’aurez pas à réinstaller le paquet, mais vous devrez charger tous les paquets que vous avez l’intention d’utiliser en invoquant <code>library()</code>.</p>
</div>
<div id="code-output" class="section level2">
<h2><span class="header-section-number">2.6</span> <code>Code</code> et sortie dans ce document</h2>
<p>Pour distinguer visuellement le code <code>R</code> de sa sortie, toutes le lignes de sortie commencent par <code>##</code>. Un bout de code typique avec sa sortie va ressembler à ça :</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="dv">1</span> <span class="op">+</span><span class="st"> </span><span class="dv">3</span> </a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="co"># tout ce qui se situe après un # est un commentaire, R ne l&#39;exécute pas</span></a></code></pre></div>
<p>où vous voyez sur la première ligne le code <code>R</code>, et sur la deuxième ligne la sortie. Comme mentionné, cette ligne commence par <code>##</code> pour dire <em>c’est une sortie</em>, suivi par <code>[1]</code> (indiquant qu’il s’agit d’un vecteur de longueur <em>un</em> - plus d’informations ci-dessous !), suivi par le résultat réel - <code>1 + 3 = 4</code> !</p>
<p>Notez que vous pouvez simplement copier et coller tout le code que vous voyez dans votre console <code>R</code>. En fait, vous êtes <em>fortement</em> encouragé à le faire et à essayer <strong>tout le code</strong> que vous voyez dans ce livre.</p>
</div>
<div id="data-types" class="section level2">
<h2><span class="header-section-number">2.7</span> Types de données</h2>
<p><code>R</code> a un certain nombre de <em>types de données</em> de base. Il est utile de savoir quels types de données sont à votre disposition :</p>
<ul>
<li>Numérique
<ul>
<li>Aussi connu sous le nom de Double. Le type par défaut lorsqu’il s’agit de chiffres.</li>
<li>Exemples : <code>1</code>, <code>1.0</code>, <code>42.5</code></li>
</ul></li>
<li>Entier
<ul>
<li>Exemples : <code>1L</code>, <code>2L</code>, <code>42L</code>.</li>
</ul></li>
<li>Complexe
<ul>
<li>Exemple : <code>4 + 2i</code>.</li>
</ul></li>
<li>Logique
<ul>
<li>Deux valeurs possibles : <code>TRUE</code> et <code>FALSE</code></li>
<li>Vous pouvez également utiliser les lettres <code>T</code> et <code>F</code>, mais cela n’est pas recommandé.</li>
<li><code>NA</code> est également considéré comme logique.</li>
</ul></li>
<li>Caractère
<ul>
<li>Exemples : <code>"a"</code>, <code>"Statistiques"</code>, <code>"1 plus 2"</code>.</li>
</ul></li>
<li>Catégorique ou <code>factor</code>.
<ul>
<li>Un mélange d’entier et de caractère. Une variable <code>factor</code> attribue un label à une valeur numérique.</li>
<li>Par exemple, <code>factor(x=c(0,1),labels=c("homme", "femme"))</code> assigne la chaîne <em>homme</em> aux valeurs numériques <code>0</code>, et la chaîne <em>femme</em> à la valeur <code>1</code>.</li>
</ul></li>
</ul>
</div>
<div id="structures-de-données" class="section level2">
<h2><span class="header-section-number">2.8</span> Structures de données</h2>
<!-- `R` a également un certain nombre de  *structures* de données de base. Une structure de données est soit homogène (tous les éléments sont du même type de données), soit hétérogène (les éléments peuvent être de plusieurs types de données). -->
<table>
<thead>
<tr class="header">
<th align="center">Dimension</th>
<th align="center"><strong>Homogène</strong></th>
<th align="center"><strong>Hétérogène</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">1</td>
<td align="center">Vector</td>
<td align="center">List</td>
</tr>
<tr class="even">
<td align="center">2</td>
<td align="center">Matrix</td>
<td align="center">Data Frame</td>
</tr>
<tr class="odd">
<td align="center">3+</td>
<td align="center">Array</td>
<td align="center">nested Lists</td>
</tr>
</tbody>
</table>
<div id="vecteurs" class="section level3">
<h3><span class="header-section-number">2.8.1</span> Vecteurs</h3>
<p>De nombreuses opérations en <code>R</code> font un usage intensif de <strong>vecteurs</strong>. Un vecteur est un <em>conteneur</em> pour les objets de type identique (voir <a href="R-intro.html#data-types">2.7</a> ci-dessus). Les vecteurs dans <code>R</code> sont indexés à partir de <code>1</code>. C’est ce que le <code>[1]</code> dans la sortie indique, que le premier élément de la ligne affichée est le premier élément du vecteur. Les plus grands vecteurs afficheront des lignes supplémentaires avec quelque chose comme <code>[7]</code> où <code>7</code> est l’indice du premier élément de cette ligne.</p>
<p>La façon la plus courante de créer un vecteur en <code>R</code> est sans doute d’utiliser la fonction <code>c()</code>, qui est l’abréviation de “combine”. Comme son nom l’indique, elle combine une liste d’éléments séparés par des virgules.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>)</a></code></pre></div>
<pre><code>## [1] 1 3 5 7 8 9</code></pre>
<p>Ici, <code>R</code> produit simplement ce vecteur. Si nous voulons stocker ce vecteur dans une <strong>variable</strong>, nous pouvons le faire avec l’opérateur <strong>assignation</strong> <code>&lt;-</code>. Dans ce cas, la variable <code>x</code> contient maintenant le vecteur que nous venons de créer, et nous pouvons accéder au vecteur en tapant <code>x</code>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1">x &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>)</a>
<a class="sourceLine" id="cb9-2" title="2">x</a></code></pre></div>
<pre><code>## [1] 1 3 5 7 8 9</code></pre>
<p>Parce que les vecteurs doivent contenir des éléments qui sont tous du même type, <code>R</code> va automatiquement <strong>coercer</strong> (c’est-à-dire convertir) vers un seul type lorsqu’on essaie de créer un vecteur qui combine plusieurs types.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">c</span>(<span class="dv">42</span>, <span class="st">&quot;Statistiques&quot;</span>, <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] &quot;42&quot;           &quot;Statistiques&quot; &quot;TRUE&quot;</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">c</span>(<span class="dv">42</span>, <span class="ot">TRUE</span>)</a></code></pre></div>
<pre><code>## [1] 42  1</code></pre>
<p>Il est fréquent que vous souhaitiez créer un vecteur basé sur une séquence de nombres. La façon la plus rapide et la plus simple de le faire est d’utiliser l’opérateur <code>:</code>, qui crée une séquence d’entiers entre deux entiers spécifiés.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1">(y &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">100</span>)</a></code></pre></div>
<pre><code>##   [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18
##  [19]  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36
##  [37]  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53  54
##  [55]  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70  71  72
##  [73]  73  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90
##  [91]  91  92  93  94  95  96  97  98  99 100</code></pre>
<p>Ici, nous voyons <code>R</code> marquer les lignes après la première, car il s’agit d’un grand vecteur. Nous voyons également qu’en mettant des parenthèses autour de l’affectation, <code>R</code> stocke le vecteur dans une variable appelée <code>y</code> et sort automatiquement <code>y</code> vers la console.</p>
<p>Notez que les scalaires n’existent pas dans <code>R</code>. Ce sont simplement des vecteurs de longueur <code>1</code>.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="dv">2</span></a></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>Si nous voulons créer une séquence qui ne soit pas limitée aux nombres entiers et qui augmente de 1 à la fois, nous pouvons utiliser la fonction <code>seq()</code>.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1"><span class="kw">seq</span>(<span class="dt">from =</span> <span class="fl">1.5</span>, <span class="dt">to =</span> <span class="fl">4.2</span>, <span class="dt">by =</span> <span class="fl">0.1</span>)</a></code></pre></div>
<pre><code>##  [1] 1.5 1.6 1.7 1.8 1.9 2.0 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 2.9 3.0 3.1 3.2 3.3
## [20] 3.4 3.5 3.6 3.7 3.8 3.9 4.0 4.1 4.2</code></pre>
<p>Nous discuterons des fonctions en détail plus tard, mais notez ici que les étiquettes d’entrée “from”, “to” et “by” sont facultatives.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1"><span class="kw">seq</span>(<span class="fl">1.5</span>, <span class="fl">4.2</span>, <span class="fl">0.1</span>)</a></code></pre></div>
<pre><code>##  [1] 1.5 1.6 1.7 1.8 1.9 2.0 2.1 2.2 2.3 2.4 2.5 2.6 2.7 2.8 2.9 3.0 3.1 3.2 3.3
## [20] 3.4 3.5 3.6 3.7 3.8 3.9 4.0 4.1 4.2</code></pre>
<p>Une autre opération courante pour créer un vecteur est <code>rep()</code>, qui peut répéter une seule valeur un certain nombre de fois.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" title="1"><span class="kw">rep</span>(<span class="st">&quot;A&quot;</span>, <span class="dt">times =</span> <span class="dv">10</span>)</a></code></pre></div>
<pre><code>##  [1] &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot; &quot;A&quot;</code></pre>
<p>La fonction <code>rep()</code> peut être utilisée pour répéter un vecteur un certain nombre de fois.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" title="1"><span class="kw">rep</span>(x, <span class="dt">times =</span> <span class="dv">3</span>)</a></code></pre></div>
<pre><code>##  [1] 1 3 5 7 8 9 1 3 5 7 8 9 1 3 5 7 8 9</code></pre>
<p>Nous avons maintenant vu quatre façons différentes de créer des vecteurs :</p>
<ul>
<li><code>c()</code></li>
<li><code>:</code></li>
<li><code>seq()</code></li>
<li><code>rep()</code></li>
</ul>
<p>Jusqu’à présent, nous les avons surtout utilisés de manière isolée, mais ils sont souvent utilisés ensemble.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" title="1"><span class="kw">c</span>(x, <span class="kw">rep</span>(<span class="kw">seq</span>(<span class="dv">1</span>, <span class="dv">9</span>, <span class="dv">2</span>), <span class="dv">3</span>), <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dv">42</span>, <span class="dv">2</span><span class="op">:</span><span class="dv">4</span>)</a></code></pre></div>
<pre><code>##  [1]  1  3  5  7  8  9  1  3  5  7  9  1  3  5  7  9  1  3  5  7  9  1  2  3 42
## [26]  2  3  4</code></pre>
<p>La longueur d’un vecteur peut être obtenue avec la fonction <code>length()</code>.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" title="1"><span class="kw">length</span>(x)</a></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" title="1"><span class="kw">length</span>(y)</a></code></pre></div>
<pre><code>## [1] 100</code></pre>
<div id="exercice-1" class="section level4">
<h4><span class="header-section-number">2.8.1.1</span> Exercice 1</h4>
<ol style="list-style-type: decimal">
<li>Créer un vecteur de cinq uns, c’est-à-dire <code>[1,1,1,1,1,1]</code>.</li>
<li>Remarquez que l’opérateur deux-points <code>a:b</code> est juste l’abréviation de <em>construire une séquence <strong>de</strong> <code>a</code> <strong>à</strong> <code>b</code></em>. Créez un vecteur dont le compte à rebours est de 10 à 0, c’est-à-dire qu’il ressemble à <code>[10,9,8,7,6,5,4,3,2,1,0]</code> !</li>
<li>la fonction <code>rep</code> prend des arguments supplémentaires <code>times</code> (comme ci-dessus), et <code>each</code>, qui vous indique combien de fois <em>chaque élément</em> doit être répété (par opposition au vecteur d’entrée entier). Utilisez <code>rep</code> pour créer un vecteur qui ressemble à ceci : <code>[1 1 1 2 2 2 3 3 3 1 1 1 2 2 2 3 3 3]</code></li>
</ol>
</div>
<div id="extraire-des-sous-vecteurs" class="section level4">
<h4><span class="header-section-number">2.8.1.2</span> Extraire des sous-vecteurs</h4>
<p>Pour extraire un sous-vecteur (<em>subsetting</em>), c’est-à-dire pour n’en choisir que certains éléments, nous utilisons des crochets, “[]”. Nous voyons ici que <code>x[1]</code> renvoie le premier élément, et <code>x[3]</code> renvoie le troisième élément :</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" title="1">x</a></code></pre></div>
<pre><code>## [1] 1 3 5 7 8 9</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" title="1">x[<span class="dv">1</span>]</a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb37-1" title="1">x[<span class="dv">3</span>]</a></code></pre></div>
<pre><code>## [1] 5</code></pre>
<p>Nous pouvons également exclure certains indices, dans ce cas le deuxième élément.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb39-1" title="1">x[<span class="op">-</span><span class="dv">2</span>]</a></code></pre></div>
<pre><code>## [1] 1 5 7 8 9</code></pre>
<p>Enfin, nous voyons que nous pouvons faire des sous-ensembles sur la base d’un vecteur d’indices.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb41-1" title="1">x[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>]</a></code></pre></div>
<pre><code>## [1] 1 3 5</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb43-1" title="1">x[<span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>)]</a></code></pre></div>
<pre><code>## [1] 1 5 7</code></pre>
<p>Tous les éléments ci-dessus sont des sous-ensembles d’un vecteur utilisant un vecteur d’indices. (Rappelez-vous qu’un seul nombre reste un vecteur) Nous pourrions plutôt utiliser un vecteur de valeurs logiques.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb45-1" title="1">z =<span class="st"> </span><span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>, <span class="ot">TRUE</span>, <span class="ot">TRUE</span>, <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb45-2" title="2">z</a></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE  TRUE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb47-1" title="1">x[z]</a></code></pre></div>
<pre><code>## [1] 1 3 7 8</code></pre>
<p><code>R</code> est capable d’effectuer de nombreuses opérations sur les vecteurs et les scalaires :</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb49-1" title="1">x =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span> <span class="co"># un vecteur</span></a>
<a class="sourceLine" id="cb49-2" title="2">x <span class="op">+</span><span class="st"> </span><span class="dv">1</span> <span class="co"># ajouter un scalaire</span></a></code></pre></div>
<pre><code>##  [1]  2  3  4  5  6  7  8  9 10 11</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb51-1" title="1"><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>x <span class="co"># multiplier tous les éléments par 2</span></a></code></pre></div>
<pre><code>##  [1]  2  4  6  8 10 12 14 16 18 20</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb53-1" title="1"><span class="dv">2</span> <span class="op">^</span><span class="st"> </span>x <span class="co"># calculer 2 exposant x </span></a></code></pre></div>
<pre><code>##  [1]    2    4    8   16   32   64  128  256  512 1024</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb55-1" title="1"><span class="kw">sqrt</span>(x) <span class="co"># calcule la racine carrée de tous les éléments de x</span></a></code></pre></div>
<pre><code>##  [1] 1.000000 1.414214 1.732051 2.000000 2.236068 2.449490 2.645751 2.828427
##  [9] 3.000000 3.162278</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb57-1" title="1"><span class="kw">log</span>(x) <span class="co"># prend le log naturel de tous les éléments en x</span></a></code></pre></div>
<pre><code>##  [1] 0.0000000 0.6931472 1.0986123 1.3862944 1.6094379 1.7917595 1.9459101
##  [8] 2.0794415 2.1972246 2.3025851</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb59-1" title="1">x <span class="op">+</span><span class="st"> </span><span class="dv">2</span><span class="op">*</span>x <span class="co"># ajouter le vecteur x au vecteur 2x</span></a></code></pre></div>
<pre><code>##  [1]  3  6  9 12 15 18 21 24 27 30</code></pre>
<p>Nous voyons que lorsqu’une fonction comme <code>log()</code> est utilisée sur un vecteur <code>x</code>, un vecteur est renvoyé qui a appliqué la fonction à chaque élément du vecteur <code>x</code>.</p>
</div>
</div>
<div id="opérateurs-logiques" class="section level3">
<h3><span class="header-section-number">2.8.2</span> Opérateurs logiques</h3>
<table>
<thead>
<tr class="header">
<th align="left">Opérateur</th>
<th align="center">Résumé</th>
<th align="center">Exemple</th>
<th align="center">Résultat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>x &lt; y</code></td>
<td align="center"><code>x</code> plus petit que <code>y</code></td>
<td align="center"><code>3 &lt; 42</code></td>
<td align="center">TRUE</td>
</tr>
<tr class="even">
<td align="left"><code>x &gt; y</code></td>
<td align="center"><code>x</code> plus grand que <code>y</code></td>
<td align="center"><code>3 &gt; 42</code></td>
<td align="center">FALSE</td>
</tr>
<tr class="odd">
<td align="left"><code>x &lt;= y</code></td>
<td align="center"><code>x</code> plus petit ou égal à <code>y</code></td>
<td align="center"><code>3 &lt;= 42</code></td>
<td align="center">TRUE</td>
</tr>
<tr class="even">
<td align="left"><code>x &gt;= y</code></td>
<td align="center"><code>x</code> plus grand ou égal à <code>y</code></td>
<td align="center"><code>3 &gt;= 42</code></td>
<td align="center">FALSE</td>
</tr>
<tr class="odd">
<td align="left"><code>x == y</code></td>
<td align="center"><code>x</code> égal à <code>y</code></td>
<td align="center"><code>3 == 42</code></td>
<td align="center">FALSE</td>
</tr>
<tr class="even">
<td align="left"><code>x != y</code></td>
<td align="center"><code>x</code> pas égal à <code>y</code></td>
<td align="center"><code>3 != 42</code></td>
<td align="center">TRUE</td>
</tr>
<tr class="odd">
<td align="left"><code>!x</code></td>
<td align="center">pas <code>x</code></td>
<td align="center"><code>!(3 &gt; 42)</code></td>
<td align="center">TRUE</td>
</tr>
<tr class="even">
<td align="left"><code>x | y</code></td>
<td align="center"><code>x</code> ou <code>y</code></td>
<td align="center"><code>(3 &gt; 42) | TRUE</code></td>
<td align="center">TRUE</td>
</tr>
<tr class="odd">
<td align="left"><code>x &amp; y</code></td>
<td align="center"><code>x</code> et <code>y</code></td>
<td align="center"><code>(3 &lt; 4) &amp; ( 42 &gt; 13)</code></td>
<td align="center">TRUE</td>
</tr>
</tbody>
</table>
<p>Dans <code>R</code>, les opérateurs logiques marchent également sur les vecteurs :</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb61-1" title="1">x =<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>)</a></code></pre></div>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb62-1" title="1">x <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] FALSE FALSE  TRUE  TRUE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb64-1" title="1">x <span class="op">&lt;</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1]  TRUE FALSE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb66-1" title="1">x <span class="op">==</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] FALSE  TRUE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb68-1" title="1">x <span class="op">!=</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1]  TRUE FALSE  TRUE  TRUE  TRUE  TRUE</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb70-1" title="1">x <span class="op">==</span><span class="st"> </span><span class="dv">3</span> <span class="op">&amp;</span><span class="st"> </span>x <span class="op">!=</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb72-1" title="1">x <span class="op">==</span><span class="st"> </span><span class="dv">3</span> <span class="op">|</span><span class="st"> </span>x <span class="op">!=</span><span class="st"> </span><span class="dv">3</span></a></code></pre></div>
<pre><code>## [1] TRUE TRUE TRUE TRUE TRUE TRUE</code></pre>
<p>C’est très utile pour sélectionner une sous-partie d’un vecteur.</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb74-1" title="1">x[x <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>]</a></code></pre></div>
<pre><code>## [1] 5 7 8 9</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb76-1" title="1">x[x <span class="op">!=</span><span class="st"> </span><span class="dv">3</span>]</a></code></pre></div>
<pre><code>## [1] 1 5 7 8 9</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb78-1" title="1"><span class="kw">sum</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>)</a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb80-1" title="1"><span class="kw">as.numeric</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>)</a></code></pre></div>
<pre><code>## [1] 0 0 1 1 1 1</code></pre>
<p>Nous avons vu ici que l’utilisation de la fonction <code>sum()</code> sur un tableau de valeurs logiques <code>Vrai</code> et <code>Faux</code> qui est le résultat de <code>x &gt; 3</code> donne un résultat numérique : vous venez de <em>compter</em> combien d’éléments de <code>x</code>, la condition <code>&gt; 3</code> est <code>Vrai</code>. Lors de l’appel à <code>sum()</code>, <code>R</code> est d’abord automatiquement forcé de passer de la logique au numérique où <code>Vrai</code> est <code>1</code> et <code>Faux</code> est <code>0</code>. Cette contrainte de logique à numérique se produit pour la plupart des opérations mathématiques.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb82-1" title="1"><span class="co"># which(condition sur x) renvoie true/false  </span></a>
<a class="sourceLine" id="cb82-2" title="2"><span class="co"># chaque indice de x où la condition est vraie</span></a>
<a class="sourceLine" id="cb82-3" title="3"><span class="kw">which</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>)</a></code></pre></div>
<pre><code>## [1] 3 4 5 6</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb84-1" title="1">x [<span class="kw">which</span>(x <span class="op">&gt;</span><span class="st"> </span><span class="dv">3</span>)]</a></code></pre></div>
<pre><code>## [1] 5 7 8 9</code></pre>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb86-1" title="1"><span class="kw">max</span>(x)</a></code></pre></div>
<pre><code>## [1] 9</code></pre>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb88-1" title="1"><span class="kw">which</span>(x <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(x))</a></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" title="1"><span class="kw">which.max</span>(x)</a></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div id="exercice-2" class="section level4">
<h4><span class="header-section-number">2.8.2.1</span> Exercice 2</h4>
<ol style="list-style-type: decimal">
<li>Créer un vecteur rempli de 10 nombres tirés de la distribution uniforme (indice : utiliser la fonction <code>runif</code>) et les stocker dans “x”.</li>
<li>En utilisant un sous-ensemble logique comme ci-dessus, obtenez tous les éléments de <code>x</code> qui sont plus grands que 0,5, et stockez-les dans <code>y</code>.</li>
<li>en utilisant la fonction <code>which</code>, stockez les <em>indices</em> de tous les éléments de <code>x</code> qui sont plus grands que 0,5 dans <code>iy</code>.</li>
<li>Vérifiez que <code>y</code> et <code>x[iy]</code> sont identiques.</li>
</ol>
</div>
</div>
<div id="matrices" class="section level3">
<h3><span class="header-section-number">2.8.3</span> Matrices</h3>
<p><code>R</code> peut également être utilisé pour les calculs de <strong>matrice</strong>. Les matrices ont des lignes et des colonnes contenant un seul type de données. Dans une matrice, l’ordre des lignes et des colonnes est important. (Ce n’est pas le cas des <em>data frames</em>, que nous verrons plus tard).</p>
<p>Les matrices peuvent être créées à l’aide de la fonction <code>matrix</code>.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb92-1" title="1">x =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">9</span></a>
<a class="sourceLine" id="cb92-2" title="2">x</a></code></pre></div>
<pre><code>## [1] 1 2 3 4 5 6 7 8 9</code></pre>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb94-1" title="1">X =<span class="st"> </span><span class="kw">matrix</span>(x, <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">ncol =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb94-2" title="2">X</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9</code></pre>
<p>Remarquez ici que <code>R</code> est sensible à la casse (<code>x</code> contre <code>X</code>).</p>
<p>Par défaut, la fonction <code>matrice</code> remplit vos données dans la matrice colonne par colonne. Mais on peut aussi dire à <code>R</code> de remplir des lignes à la place :</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb96-1" title="1">Y =<span class="st"> </span><span class="kw">matrix</span>(x, <span class="dt">nrow =</span> <span class="dv">3</span>, <span class="dt">ncol =</span> <span class="dv">3</span>, <span class="dt">byrow =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb96-2" title="2">Y</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6
## [3,]    7    8    9</code></pre>
<p>Nous pouvons également créer une matrice d’une dimension spécifique où chaque élément est identique, dans ce cas “0”.</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb98-1" title="1">Z =<span class="st"> </span><span class="kw">matrix</span>(<span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">4</span>)</a>
<a class="sourceLine" id="cb98-2" title="2">Z</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4]
## [1,]    0    0    0    0
## [2,]    0    0    0    0</code></pre>
<p>Tout comme les vecteurs, on peut extraire une sous-matrices des crochets, “[]”. Cependant, comme les matrices sont bidimensionnelles, nous devons spécifier à la fois une ligne et une colonne lors du sous-ensemble.</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb100-1" title="1">X</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9</code></pre>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb102-1" title="1">X[<span class="dv">1</span>, <span class="dv">2</span>]</a></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>Ici, nous avons accédé à l’élément de la première ligne et de la deuxième colonne. Nous avons également pu extraire une ligne ou une colonne entière.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb104-1" title="1">X[<span class="dv">1</span>, ]</a></code></pre></div>
<pre><code>## [1] 1 4 7</code></pre>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb106-1" title="1">X[, <span class="dv">2</span>]</a></code></pre></div>
<pre><code>## [1] 4 5 6</code></pre>
<p>Nous pouvons également utiliser des vecteurs pour extraire plus d’une ligne ou d’une colonne à la fois. Dans ce cas, on extrait la première et la troisième colonne de la deuxième ligne :</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" title="1">X [<span class="dv">2</span>, <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)]</a></code></pre></div>
<pre><code>## [1] 2 8</code></pre>
<p>Les matrices peuvent également être créées en combinant des vecteurs sous forme de colonnes, en utilisant <code>cbind</code>, ou en combinant des vecteurs sous forme de lignes, en utilisant <code>rbind</code>.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb110-1" title="1">x =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">9</span></a>
<a class="sourceLine" id="cb110-2" title="2"><span class="kw">rev</span>(x)</a></code></pre></div>
<pre><code>## [1] 9 8 7 6 5 4 3 2 1</code></pre>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb112-1" title="1"><span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">9</span>)</a></code></pre></div>
<pre><code>## [1] 1 1 1 1 1 1 1 1 1</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb114-1" title="1"><span class="kw">rbind</span>(x, <span class="kw">rev</span>(x), <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">9</span>))</a></code></pre></div>
<pre><code>##   [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9]
## x    1    2    3    4    5    6    7    8    9
##      9    8    7    6    5    4    3    2    1
##      1    1    1    1    1    1    1    1    1</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb116-1" title="1"><span class="kw">cbind</span>(<span class="dt">col_1 =</span> x, <span class="dt">col_2 =</span> <span class="kw">rev</span>(x), <span class="dt">col_3 =</span> <span class="kw">rep</span>(<span class="dv">1</span>, <span class="dv">9</span>))</a></code></pre></div>
<pre><code>##       col_1 col_2 col_3
##  [1,]     1     9     1
##  [2,]     2     8     1
##  [3,]     3     7     1
##  [4,]     4     6     1
##  [5,]     5     5     1
##  [6,]     6     4     1
##  [7,]     7     3     1
##  [8,]     8     2     1
##  [9,]     9     1     1</code></pre>
<p>Lorsque vous utilisez <code>rbind</code> et <code>cbind</code>, vous pouvez spécifier des noms d’“arguments” qui seront utilisés comme noms de colonnes.</p>
<p><code>R</code> peut alors être utilisé pour effectuer des calculs matriciels</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb118-1" title="1">x =<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">9</span></a>
<a class="sourceLine" id="cb118-2" title="2">y =<span class="st"> </span><span class="dv">9</span><span class="op">:</span><span class="dv">1</span></a>
<a class="sourceLine" id="cb118-3" title="3">X =<span class="st"> </span><span class="kw">matrix</span>(x, <span class="dv">3</span>, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb118-4" title="4">Y =<span class="st"> </span><span class="kw">matrix</span>(y, <span class="dv">3</span>, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb118-5" title="5">X</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    4    7
## [2,]    2    5    8
## [3,]    3    6    9</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb120-1" title="1">Y</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    9    6    3
## [2,]    8    5    2
## [3,]    7    4    1</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb122-1" title="1">X <span class="op">+</span><span class="st"> </span>Y</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]   10   10   10
## [2,]   10   10   10
## [3,]   10   10   10</code></pre>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb124-1" title="1">X <span class="op">-</span><span class="st"> </span>Y</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]   -8   -2    4
## [2,]   -6    0    6
## [3,]   -4    2    8</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb126-1" title="1">X <span class="op">*</span><span class="st"> </span>Y</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    9   24   21
## [2,]   16   25   16
## [3,]   21   24    9</code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb128-1" title="1">X <span class="op">/</span><span class="st"> </span>Y</a></code></pre></div>
<pre><code>##           [,1]      [,2]     [,3]
## [1,] 0.1111111 0.6666667 2.333333
## [2,] 0.2500000 1.0000000 4.000000
## [3,] 0.4285714 1.5000000 9.000000</code></pre>
<p>Notez que <code>X * Y</code> n’est <strong>pas</strong> une multiplication matricielle. Il s’agit d’une multiplication <em>élément par élément</em>. (Pareil pour <code>X / Y</code>).
La multiplication matricielle utilise l’opérateur <code>%*%</code>. Les autres fonctions matricielles comprennent <code>t()</code> qui donne la transposition d’une matrice et <code>solve()</code> qui renvoie l’inverse d’une matrice carrée si elle est inversible.</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb130-1" title="1">X <span class="op">%*%</span><span class="st"> </span>Y</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]   90   54   18
## [2,]  114   69   24
## [3,]  138   84   30</code></pre>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb132-1" title="1"><span class="kw">t</span>(X)</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    2    3
## [2,]    4    5    6
## [3,]    7    8    9</code></pre>
<div id="exercice-3" class="section level4">
<h4><span class="header-section-number">2.8.3.1</span> Exercice 3</h4>
<ol style="list-style-type: decimal">
<li>Créer un vecteur contenant <code>1,2,3,4,5</code> appelé v.</li>
<li>Créez une matrice (2,5) <code>m</code> contenant les données <code>1,2,3,4,5,6,7,8,9,10</code>. La première ligne doit être “1,2,3,4,5”.</li>
<li>Effectuez la multiplication de la matrice <code>m</code> par <code>v</code>. Utilisez la commande <code>%*%</code>. Quelle est la dimension de la sortie ?</li>
<li>Pourquoi la commande<code>v %*% m</code> ne fonctionne-t-elle pas ?</li>
</ol>
</div>
</div>
</div>
<div id="dataframes" class="section level2">
<h2><span class="header-section-number">2.9</span> Data Frames</h2>
<p>Nous avons déjà vu des vecteurs et des matrices pour le stockage des données lorsque nous avons présenté <code>R</code>. Nous allons maintenant présenter les <strong>data frame</strong> (bases de données) qui seront la façon la plus courante de stocker et d’interagir avec les données.</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb134-1" title="1">example_data =<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>, <span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">9</span>),</a>
<a class="sourceLine" id="cb134-2" title="2">                          <span class="dt">y =</span> <span class="kw">c</span>(<span class="kw">rep</span>(<span class="st">&quot;Hello&quot;</span>, <span class="dv">9</span>), <span class="st">&quot;Goodbye&quot;</span>),</a>
<a class="sourceLine" id="cb134-3" title="3">                          <span class="dt">z =</span> <span class="kw">rep</span>(<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>), <span class="dv">5</span>))</a></code></pre></div>
<p>Contrairement à une matrice, qui peut être considérée comme un vecteur réorganisé en lignes et en colonnes, une <em>data frame</em> n’est pas tenue d’avoir le même type de données pour chaque élément. Une <em>data frame</em> est une <strong>liste</strong> de vecteurs, et chaque vecteur a un <em>nom</em>. Ainsi, chaque vecteur doit contenir le même type de données, mais les différents vecteurs peuvent stocker des types de données différents. Notez, cependant, que tous les vecteurs doivent avoir <strong>la même longueur</strong>.</p>
<p>Une <strong>data.frame</strong> est similaire à un tableur habituel. Il y a des <em>lignes</em>, et des <em>colonnes</em>. Une ligne est généralement considérée comme une <em>observation</em>, et chaque colonne est une certaine <em>variable</em>, ou <em>caractéristique</em> de cette observation.</p>
<p><br>
Regardons la <em>data frame</em> que nous venons de créer</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb135-1" title="1">example_data</a></code></pre></div>
<pre><code>##    x       y     z
## 1  1   Hello  TRUE
## 2  3   Hello FALSE
## 3  5   Hello  TRUE
## 4  7   Hello FALSE
## 5  9   Hello  TRUE
## 6  1   Hello FALSE
## 7  3   Hello  TRUE
## 8  5   Hello FALSE
## 9  7   Hello  TRUE
## 10 9 Goodbye FALSE</code></pre>
<p>Là encore, nous accédons à une colonne donnée avec l’opérateur <code>$</code> :</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb137-1" title="1">example_data<span class="op">$</span>x</a></code></pre></div>
<pre><code>##  [1] 1 3 5 7 9 1 3 5 7 9</code></pre>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb139-1" title="1"><span class="kw">all.equal</span>(<span class="kw">length</span>(example_data<span class="op">$</span>x),</a>
<a class="sourceLine" id="cb139-2" title="2">          <span class="kw">length</span>(example_data<span class="op">$</span>y),</a>
<a class="sourceLine" id="cb139-3" title="3">          <span class="kw">length</span>(example_data<span class="op">$</span>z))</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb141-1" title="1"><span class="kw">str</span>(example_data)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:	10 obs. of  3 variables:
##  $ x: num  1 3 5 7 9 1 3 5 7 9
##  $ y: Factor w/ 2 levels &quot;Goodbye&quot;,&quot;Hello&quot;: 2 2 2 2 2 2 2 2 2 1
##  $ z: logi  TRUE FALSE TRUE FALSE TRUE FALSE ...</code></pre>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb143-1" title="1"><span class="kw">nrow</span>(example_data)</a></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb145-1" title="1"><span class="kw">ncol</span>(example_data)</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb147-1" title="1"><span class="kw">dim</span>(example_data)</a></code></pre></div>
<pre><code>## [1] 10  3</code></pre>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb149-1" title="1"><span class="kw">names</span>(example_data)</a></code></pre></div>
<pre><code>## [1] &quot;x&quot; &quot;y&quot; &quot;z&quot;</code></pre>
<div id="travailler-sur-des-data.frames" class="section level3">
<h3><span class="header-section-number">2.9.1</span> Travailler sur des <code>data.frames</code></h3>
<p>La fonction <code>data.frame()</code> ci-dessus est une façon de créer une base de données. Nous pouvons également importer des données de différents types de fichiers dans <code>R</code>, ainsi qu’utiliser des données stockées dans des paquets.</p>
<p>Pour recharger ces données dans <code>R</code>, nous utiliserons la fonction <code>read.csv</code> :</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb151-1" title="1">example_data_from_disk =<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;data/example-data.csv&quot;</span>)</a></code></pre></div>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb152-1" title="1">example_data_from_disk</a></code></pre></div>
<pre><code>##    x       y     z
## 1  1   Hello  TRUE
## 2  3   Hello FALSE
## 3  5   Hello  TRUE
## 4  7   Hello FALSE
## 5  9   Hello  TRUE
## 6  1   Hello FALSE
## 7  3   Hello  TRUE
## 8  5   Hello FALSE
## 9  7   Hello  TRUE
## 10 9 Goodbye FALSE</code></pre>
<p>Lorsque nous utilisons des données, il y a généralement trois choses que nous aimerions faire :</p>
<ul>
<li>Examiner les données brutes.</li>
<li>Comprendre les données. (D’où viennent-elles ? Quelles sont les variables ? etc.)</li>
<li>Visualiser les données.</li>
</ul>
<p>Pour regarder les données dans un <code>data.frame</code>, nous avons deux commandes utiles : <code>head()</code> et <code>str()</code>.</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb154-1" title="1"><span class="co"># Nous travaillons avec l&#39;ensemble de données mtcars intégré dans R :</span></a>
<a class="sourceLine" id="cb154-2" title="2">mtcars</a></code></pre></div>
<pre><code>##                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
## Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
## Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
## Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
## Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
## Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
## Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
## Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
## Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
## Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
## Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
## Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
## Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
## Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
## Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
## Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
## Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
## AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
## Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
## Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
## Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
## Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
## Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
## Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
## Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
## Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
## Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code></pre>
<p>Vous pouvez voir que cela imprime l’intégralité du data.frame à l’écran. La fonction <code>head()</code> affichera les premières <code>n</code> observations de la trame de données.</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb156-1" title="1"><span class="kw">head</span>(mtcars,<span class="dt">n=</span><span class="dv">2</span>)</a></code></pre></div>
<pre><code>##               mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4      21   6  160 110  3.9 2.620 16.46  0  1    4    4
## Mazda RX4 Wag  21   6  160 110  3.9 2.875 17.02  0  1    4    4</code></pre>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb158-1" title="1"><span class="kw">head</span>(mtcars) <span class="co"># défaut</span></a></code></pre></div>
<pre><code>##                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
<p>La fonction <code>str()</code> affichera la “structure” du cadre de données. Elle affichera le nombre d’ <strong>observations</strong> et de <strong>variables</strong>, énumérera les variables, donnera le type de chaque variable, et montrera certains éléments de chaque variable. Ces informations peuvent également être trouvées dans la fenêtre “Environnement” de RStudio.</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb160-1" title="1"><span class="kw">str</span>(mtcars)</a></code></pre></div>
<pre><code>## &#39;data.frame&#39;:	32 obs. of  11 variables:
##  $ mpg : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
##  $ cyl : num  6 6 4 6 8 6 8 4 4 6 ...
##  $ disp: num  160 160 108 258 360 ...
##  $ hp  : num  110 110 93 110 175 105 245 62 95 123 ...
##  $ drat: num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
##  $ wt  : num  2.62 2.88 2.32 3.21 3.44 ...
##  $ qsec: num  16.5 17 18.6 19.4 17 ...
##  $ vs  : num  0 0 1 1 0 1 0 1 1 1 ...
##  $ am  : num  1 1 1 0 0 0 0 0 0 0 ...
##  $ gear: num  4 4 4 3 3 3 3 4 4 4 ...
##  $ carb: num  4 4 1 1 2 1 4 2 2 4 ...</code></pre>
<p>Dans cet base de données, une observation porte sur un modèle particulier de voiture, et les variables décrivent les attributs de la voiture, par exemple son rendement énergétique ou son poids.</p>
<p>Pour en savoir plus sur l’ensemble de données, nous utilisons l’opérateur <code>?</code> pour extraire la documentation relative aux données.</p>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb162-1" title="1">?mtcars</a></code></pre></div>
<p><code>R</code> dispose d’un certain nombre de fonctions permettant de travailler et d’extraire rapidement des informations de base à partir de cadres de données. Pour obtenir rapidement un vecteur des noms de variables, nous utilisons la fonction <code>names()</code>.</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb163-1" title="1"><span class="kw">names</span>(mtcars)</a></code></pre></div>
<pre><code>##  [1] &quot;mpg&quot;  &quot;cyl&quot;  &quot;disp&quot; &quot;hp&quot;   &quot;drat&quot; &quot;wt&quot;   &quot;qsec&quot; &quot;vs&quot;   &quot;am&quot;   &quot;gear&quot;
## [11] &quot;carb&quot;</code></pre>
<p>Pour accéder à l’une des variables <strong>en tant que vecteur</strong>, nous utilisons l’opérateur <code>$</code>.</p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb165-1" title="1">mtcars<span class="op">$</span>mpg</a></code></pre></div>
<pre><code>##  [1] 21.0 21.0 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 17.8 16.4 17.3 15.2 10.4
## [16] 10.4 14.7 32.4 30.4 33.9 21.5 15.5 15.2 13.3 19.2 27.3 26.0 30.4 15.8 19.7
## [31] 15.0 21.4</code></pre>
<div class="sourceCode" id="cb167"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb167-1" title="1">mtcars<span class="op">$</span>wt</a></code></pre></div>
<pre><code>##  [1] 2.620 2.875 2.320 3.215 3.440 3.460 3.570 3.190 3.150 3.440 3.440 4.070
## [13] 3.730 3.780 5.250 5.424 5.345 2.200 1.615 1.835 2.465 3.520 3.435 3.840
## [25] 3.845 1.935 2.140 1.513 3.170 2.770 3.570 2.780</code></pre>
<p>Nous pouvons utiliser les fonctions <code>dim()</code>, <code>nrow()</code> et <code>ncol()</code> pour obtenir des informations sur la dimension de la base de données.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb169-1" title="1"><span class="kw">dim</span>(mtcars)</a></code></pre></div>
<pre><code>## [1] 32 11</code></pre>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb171-1" title="1"><span class="kw">nrow</span>(mtcars)</a></code></pre></div>
<pre><code>## [1] 32</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb173-1" title="1"><span class="kw">ncol</span>(mtcars)</a></code></pre></div>
<pre><code>## [1] 11</code></pre>
<p>Ici <code>nrow()</code> est aussi le nombre d’observations, qui dans la plupart des cas est la <em>taille de l’échantillon</em>.</p>
<p>La sélection de sous-partie de la base de données peut fonctionner comme pour les matrices en utilisant des crochets, <code>[ , ]</code>. Ici, nous trouvons des véhicules dont le mpg est supérieur à 25 miles par gallon et nous n’affichons que les colonnes <code>cyl</code>, <code>disp</code> et <code>wt</code>.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb175-1" title="1"><span class="co"># mpg [condition ligne, condition colonne]</span></a>
<a class="sourceLine" id="cb175-2" title="2">mtcars [mtcars<span class="op">$</span>mpg <span class="op">&gt;</span><span class="st"> </span><span class="dv">20</span>, <span class="kw">c</span>(<span class="st">&quot;cyl&quot;</span>, <span class="st">&quot;disp&quot;</span>, <span class="st">&quot;wt&quot;</span>)]</a></code></pre></div>
<pre><code>##                cyl  disp    wt
## Mazda RX4        6 160.0 2.620
## Mazda RX4 Wag    6 160.0 2.875
## Datsun 710       4 108.0 2.320
## Hornet 4 Drive   6 258.0 3.215
## Merc 240D        4 146.7 3.190
## Merc 230         4 140.8 3.150
## Fiat 128         4  78.7 2.200
## Honda Civic      4  75.7 1.615
## Toyota Corolla   4  71.1 1.835
## Toyota Corona    4 120.1 2.465
## Fiat X1-9        4  79.0 1.935
## Porsche 914-2    4 120.3 2.140
## Lotus Europa     4  95.1 1.513
## Volvo 142E       4 121.0 2.780</code></pre>
<p>Une alternative serait d’utiliser la fonction <code>subset()</code>, qui a une syntaxe beaucoup plus lisible.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb177-1" title="1"><span class="kw">subset</span>(mtcars, <span class="dt">subset =</span> mpg <span class="op">&gt;</span><span class="st"> </span><span class="dv">25</span>, <span class="dt">select =</span> <span class="kw">c</span>(<span class="st">&quot;cyl&quot;</span>, <span class="st">&quot;disp&quot;</span>, <span class="st">&quot;wt&quot;</span>))</a></code></pre></div>
<div id="exercice-5" class="section level4">
<h4><span class="header-section-number">2.9.1.1</span> Exercice 5</h4>
<ol style="list-style-type: decimal">
<li>Combien d’observations y a-t-il dans <code>mtcars</code> ?</li>
<li>Combien de variables ?</li>
<li>Quelle est la valeur moyenne de <code>mpg</code> ?</li>
<li>Quelle est la valeur moyenne de <code>mpg</code> pour les voitures de plus de 4 cylindres, c’est-à-dire avec <code>cyl&gt;4</code> ?</li>
</ol>
</div>
</div>
</div>
<div id="les-bases-de-la-programmation-en-r" class="section level2">
<h2><span class="header-section-number">2.10</span> Les bases de la programmation en <code>R</code></h2>
<p>Dans cette section, nous illustrons quelques concepts généraux liés à la programmation en <code>R</code>.</p>
<div id="variables" class="section level3">
<h3><span class="header-section-number">2.10.1</span> Variables</h3>
<p>Nous avons déjà rencontré le terme de “<em>variable</em>”" à plusieurs reprises, mais principalement dans le contexte d’une colonne d’une <code>data.frame</code>. En programmation, une variable désigne un “<em>objet</em>”. Une autre façon de le dire est qu’une variable est un nom ou une <em>étiquette</em> pour quelque chose :</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb178-1" title="1">x &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb178-2" title="2">y &lt;-<span class="st"> &quot;roses&quot;</span></a>
<a class="sourceLine" id="cb178-3" title="3">z &lt;-<span class="st"> </span><span class="cf">function</span>(x){<span class="kw">sqrt</span>(x)}</a></code></pre></div>
<p>Ici, <code>x</code> fait référence à la valeur <code>1</code>, <code>y</code> contient la chaîne de caractères “roses”, et <code>z</code> est le nom d’une fonction qui calcule <span class="math inline">\(\sqrt{x}\)</span>. Remarquez que l’argument <code>x</code> de la fonction est différent du <code>x</code> que nous venons de définir. Il est <strong>local</strong> à la fonction et n’affecte pas le <code>x</code> défini à lextérieur de la fonction :</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb179-1" title="1">x</a></code></pre></div>
<pre><code>## [1] 1</code></pre>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb181-1" title="1"><span class="kw">z</span>(<span class="dv">9</span>)</a></code></pre></div>
<pre><code>## [1] 3</code></pre>
</div>
<div id="contrôle-du-flux-conditions-si-alors" class="section level3">
<h3><span class="header-section-number">2.10.2</span> Contrôle du flux, conditions “si, alors”</h3>
<p>Le contrôle de flux d’execution concerne les moyens par lesquels vous pouvez adapter votre code à différentes circonstances. Si une “condition” est <code>TRUE</code>, votre programme fera une chose, et sinon une autre. C’est ce que l’on appelle une déclaration “if/else”. Dans <code>R</code>, la syntaxe if/else est :</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb183-1" title="1"><span class="cf">if</span> (<span class="dt">condition =</span> <span class="ot">TRUE</span>) {</a>
<a class="sourceLine" id="cb183-2" title="2">  un peu de code R</a>
<a class="sourceLine" id="cb183-3" title="3">} <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb183-4" title="4">  un autre code R</a>
<a class="sourceLine" id="cb183-5" title="5">}</a></code></pre></div>
<p>Par exemple,</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb184-1" title="1">x &lt;-<span class="st"> </span><span class="dv">1</span></a>
<a class="sourceLine" id="cb184-2" title="2">y &lt;-<span class="st"> </span><span class="dv">3</span></a>
<a class="sourceLine" id="cb184-3" title="3"><span class="cf">if</span> (x <span class="op">&gt;</span><span class="st"> </span>y) { <span class="co"># test si x &gt; y</span></a>
<a class="sourceLine" id="cb184-4" title="4">  <span class="co"># si VRAI</span></a>
<a class="sourceLine" id="cb184-5" title="5">  z &lt;-<span class="st"> </span>x <span class="op">*</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb184-6" title="6">  <span class="kw">print</span>(<span class="st">&quot;x est plus grand que y&quot;</span>)</a>
<a class="sourceLine" id="cb184-7" title="7">} <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb184-8" title="8">  <span class="co"># si FAUX</span></a>
<a class="sourceLine" id="cb184-9" title="9">  z &lt;-<span class="st"> </span>x <span class="op">+</span><span class="st"> </span><span class="dv">5</span> <span class="op">*</span><span class="st"> </span>y</a>
<a class="sourceLine" id="cb184-10" title="10">  <span class="kw">print</span>(<span class="st">&quot;x est inférieur ou égal à y&quot;</span>)</a>
<a class="sourceLine" id="cb184-11" title="11">}</a></code></pre></div>
<pre><code>## [1] &quot;x est inférieur ou égal à y&quot;</code></pre>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb186-1" title="1">z</a></code></pre></div>
<pre><code>## [1] 16</code></pre>
</div>
<div id="boucles" class="section level3">
<h3><span class="header-section-number">2.10.3</span> Boucles</h3>
<p>Les boucles sont un élément de programmation très important. Comme son nom l’indique, dans une <em>boucle</em>, la programmation passe en boucle <strong>de façon répétée</strong> sur un ensemble d’instructions, jusqu’à ce qu’une condition lui dise de s’arrêter. Par ailleurs, le programme peut <em>savoir combien d’étapes</em> il a déjà effectuées - ce qui peut être important à savoir pour de nombreux algorithmes. La syntaxe d’une boucle <code>for</code> (il en existe d’autres) est</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb188-1" title="1"><span class="cf">for</span> (ix <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>){ <span class="co"># ne doit pas nécessairement être 1:10 !</span></a>
<a class="sourceLine" id="cb188-2" title="2">  <span class="co"># corps de la boucle : est exécuté à chaque fois</span></a>
<a class="sourceLine" id="cb188-3" title="3">  <span class="co"># la valeur de ix change à chaque itération</span></a>
<a class="sourceLine" id="cb188-4" title="4">}</a></code></pre></div>
<p>Par exemple, considérons cette simple boucle <code>for</code>, qui va simplement imprimer la valeur de l’<em>itérateur</em> (appelé <code>i</code> dans notre cas) à l’écran :</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb189-1" title="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>){</a>
<a class="sourceLine" id="cb189-2" title="2">  <span class="kw">print</span>(i)</a>
<a class="sourceLine" id="cb189-3" title="3">}</a></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5</code></pre>
<p>Remarquez qu’au lieu de “1:5”, nous pourrions avoir <em>n’importe quelle</em> sorte de collection d’éléments sur lesquels itérer :</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb191-1" title="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="kw">c</span>(<span class="st">&quot;mangues&quot;</span>, <span class="st">&quot;bananes&quot;</span>, <span class="st">&quot;pommes&quot;</span>)){</a>
<a class="sourceLine" id="cb191-2" title="2">  <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;J&#39;aime les&quot;</span>,i))  <span class="co"># la fonction de collage &quot;paste&quot; colle les chaînes de caractères</span></a>
<a class="sourceLine" id="cb191-3" title="3">}</a></code></pre></div>
<pre><code>## [1] &quot;J&#39;aime les mangues&quot;
## [1] &quot;J&#39;aime les bananes&quot;
## [1] &quot;J&#39;aime les pommes&quot;</code></pre>
<p>Nous pouvons "aussi souvent également utiliser des boucles <em>emboîtées</em>, qui sont exactement ce que leur nom suggère :</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb193-1" title="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">2</span><span class="op">:</span><span class="dv">3</span>){</a>
<a class="sourceLine" id="cb193-2" title="2">  <span class="co"># premier niveau : pour chaque i</span></a>
<a class="sourceLine" id="cb193-3" title="3">  <span class="cf">for</span> (j <span class="cf">in</span> <span class="kw">c</span>(<span class="st">&quot;mangues&quot;</span>, <span class="st">&quot;bananes&quot;</span>, <span class="st">&quot;pommes&quot;</span>)){</a>
<a class="sourceLine" id="cb193-4" title="4">    <span class="co"># deuxième niveau : pour chaque j</span></a>
<a class="sourceLine" id="cb193-5" title="5">    <span class="kw">print</span>(<span class="kw">paste</span>(<span class="st">&quot;Puis-je avoir&quot;</span>,i,j, <span class="st">&quot;s&#39;il vous plaît ?&quot;</span>))</a>
<a class="sourceLine" id="cb193-6" title="6">  }</a>
<a class="sourceLine" id="cb193-7" title="7">}</a></code></pre></div>
<pre><code>## [1] &quot;Puis-je avoir 2 mangues s&#39;il vous plaît ?&quot;
## [1] &quot;Puis-je avoir 2 bananes s&#39;il vous plaît ?&quot;
## [1] &quot;Puis-je avoir 2 pommes s&#39;il vous plaît ?&quot;
## [1] &quot;Puis-je avoir 3 mangues s&#39;il vous plaît ?&quot;
## [1] &quot;Puis-je avoir 3 bananes s&#39;il vous plaît ?&quot;
## [1] &quot;Puis-je avoir 3 pommes s&#39;il vous plaît ?&quot;</code></pre>
<p>Ce qu’il est important de remarquer ici, c’est que vous pouvez faire des calculs avec les itérateurs <em>tout en restant dans une boucle</em>.</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb195-1" title="1"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) {</a>
<a class="sourceLine" id="cb195-2" title="2">  <span class="cf">for</span> (j <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) {</a>
<a class="sourceLine" id="cb195-3" title="3">    ifoisj &lt;-<span class="st"> </span>i<span class="op">*</span>j</a>
<a class="sourceLine" id="cb195-4" title="4">    <span class="kw">print</span>(<span class="kw">paste</span>(i,<span class="st">&quot;fois&quot;</span>,j,<span class="st">&quot;=&quot;</span>,ifoisj))</a>
<a class="sourceLine" id="cb195-5" title="5">  }</a>
<a class="sourceLine" id="cb195-6" title="6">  </a>
<a class="sourceLine" id="cb195-7" title="7">}</a></code></pre></div>
<pre><code>## [1] &quot;1 fois 1 = 1&quot;
## [1] &quot;1 fois 2 = 2&quot;
## [1] &quot;1 fois 3 = 3&quot;
## [1] &quot;1 fois 4 = 4&quot;
## [1] &quot;2 fois 1 = 2&quot;
## [1] &quot;2 fois 2 = 4&quot;
## [1] &quot;2 fois 3 = 6&quot;
## [1] &quot;2 fois 4 = 8&quot;
## [1] &quot;3 fois 1 = 3&quot;
## [1] &quot;3 fois 2 = 6&quot;
## [1] &quot;3 fois 3 = 9&quot;
## [1] &quot;3 fois 4 = 12&quot;
## [1] &quot;4 fois 1 = 4&quot;
## [1] &quot;4 fois 2 = 8&quot;
## [1] &quot;4 fois 3 = 12&quot;
## [1] &quot;4 fois 4 = 16&quot;</code></pre>
<p>Les <em>Primers</em> de rstudio.cloud contiennent un tutoriel sur les boucles qui va au delà de cette brève introduction, et introduite de nouveaux outils</p>
</div>
<div id="fonctions" class="section level3">
<h3><span class="header-section-number">2.10.4</span> Fonctions</h3>
<p>Jusqu’à présent, nous avons utilisé des fonctions, mais nous n’avons pas vraiment discuté de certains de leurs détails. Une fonction est un ensemble d’instructions que <code>R</code> exécute pour nous, un peu comme celles qu’on écrit dans un script. L’avantage est que les fonctions sont beaucoup plus flexibles que les scripts, car elles peuvent dépendre d’arguments <em>en entrée</em>, qui modifient le comportement de la fonction. Voici comment définir une fonction :</p>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb197-1" title="1">nom_de_la_fonction &lt;-<span class="st"> </span><span class="cf">function</span>(arg1,<span class="dt">arg2=</span>valeur_par_défaut){</a>
<a class="sourceLine" id="cb197-2" title="2">  <span class="co"># corps de la fonction</span></a>
<a class="sourceLine" id="cb197-3" title="3">  <span class="co"># faire des choses avec arg1 et arg2</span></a>
<a class="sourceLine" id="cb197-4" title="4">  <span class="co"># vous pouvez avoir un nombre illimité d&#39;arguments, avec ou sans défaut</span></a>
<a class="sourceLine" id="cb197-5" title="5">  <span class="co"># Toute commande &quot;R&quot; valide peut être incluse ici</span></a>
<a class="sourceLine" id="cb197-6" title="6">  <span class="co"># la dernière ligne est renvoyée comme résultat de la fonction</span></a>
<a class="sourceLine" id="cb197-7" title="7">}</a></code></pre></div>
<p>Et voici un exemple trivial de définition d’une fonction :</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb198-1" title="1">bonjour &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">votre_nom =</span> <span class="st">&quot;Lord Vader&quot;</span>){</a>
<a class="sourceLine" id="cb198-2" title="2">  <span class="kw">paste</span>(<span class="st">&quot;Bienvenue,&quot;</span>,votre_nom)</a>
<a class="sourceLine" id="cb198-3" title="3">  <span class="co"># nous pourrions aussi écrire :</span></a>
<a class="sourceLine" id="cb198-4" title="4">  <span class="co"># return(paste(&quot;Bienvenue,&quot;,votre_nom))</span></a>
<a class="sourceLine" id="cb198-5" title="5">}</a>
<a class="sourceLine" id="cb198-6" title="6"><span class="co"># nous appelons la fonction en tapant son argument entre parenthèses</span></a>
<a class="sourceLine" id="cb198-7" title="7"><span class="kw">bonjour</span>()</a></code></pre></div>
<pre><code>## [1] &quot;Bienvenue, Lord Vader&quot;</code></pre>
<p>Vous voyez qu’en ne spécifiant pas l’argument <code>votre_nom</code>, <code>R</code> utilise à la valeur par défaut donnée. Essayez avec votre propre nom maintenant !</p>
<p>Le simple fait de taper le nom de la fonction (sans parenthèses) nous renvoie sa définition, ce qui est parfois pratique :</p>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb200-1" title="1">bonjour</a></code></pre></div>
<pre><code>## function(votre_nom = &quot;Lord Vader&quot;){
##   paste(&quot;Bienvenue,&quot;,votre_nom)
##   # nous pourrions aussi écrire :
##   # return(paste(&quot;Bienvenue,&quot;,votre_nom))
## }</code></pre>
<p>Il est instructif de considérer qu’avant de définir la fonction “bonjour” ci-dessus, <code>R</code> ne savait pas quoi faire, si vous aviez appelé <code>bonjour</code>. La fonction n’existait pas ! En ce sens, nous avons appris à <code>R</code> un nouveau truc. Cette fonction permettant de créer de nouvelles capacités en plus d’un langage de base est l’une des caractéristiques les plus puissantes des langages de programmation. En général, il est bon de diviser votre code en plusieurs petites fonctions, plutôt qu’en un long fichier de script. Cela rend votre code plus lisible, et il est plus facile de repérer les erreurs.</p>
<p>Les <em>Primers</em> de rstudio.cloud contiennent un tutoriel sur les fonctions qui vous permettra d’aller plus loin sur ce thème.</p>
<div id="exercice-6" class="section level4">
<h4><span class="header-section-number">2.10.4.1</span> Exercice 6</h4>
<ol style="list-style-type: decimal">
<li>Écrivez une boucle qui compte à rebours de 10 à 1, en imprimant la valeur de l’itérateur à l’écran.</li>
<li>Modifiez cette boucle pour écrire “plus que i itérations” où “i” est l’itérateur</li>
<li>Modifiez cette boucle de manière à ce que chaque itération dure environ une seconde. Vous pouvez y parvenir en ajoutant la commande <code>Sys.sleep(1)</code> sous la ligne qui affiche “plus que i itérations”.</li>
</ol>

</div>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sum.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
